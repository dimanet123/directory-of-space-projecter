[[Автоматический расчет потребной скорости для перехода на эллиптическую орбиту]]
В [[Перевод круговой орбиты в эллиптическую]] приведен расчет потребной скорости для перехода с круговой орбиты на эллиптическую. Теперь заключим данный алгоритм в функцию, чтобы вызывать ее при помощи одной строки.
```
# Импорт библиотеки вычислений
import numpy as np

# Инициализация стартовых параметров
mu = 398600
R_earth = 6371

# Функция для вычисления скорости
def circleToEllips(h_start, h_apog):

    # Вычисление начальной скорости на круговой орбите
    V0 = np.sqrt(mu/(R_earth+h_start))

    # Вычисление радусов апогея и перигея
    R_apog = R_earth + h_apog
    R_perig = R_earth + h_start

    # Вычисление эксцентриситета и фокального параметра
    e = (R_apog - R_perig)/(R_apog + R_perig)
    p = (2*R_apog*R_perig)/(R_apog + R_perig)

    # Вычисление скорсоти в перигее
    V1 = np.sqrt((mu/p)*(e**2+2*e+1))

    # Вычисление изменения скорости
    deltaV = V1 - V0

    # Вывод сообщения об изменении скорости
    print(
        f'Скорость необходимая для перехода с круговой орбиты высотой {h_start}км на эллиптическую орбиту высотой {h_apog}км: {deltaV*1000}м/с')


# Вызов функции для различных параметров
circleToEllips(200, 500)
circleToEllips(200, 100)
circleToEllips(200, 800)
```
